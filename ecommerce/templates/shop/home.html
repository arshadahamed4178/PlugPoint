{% extends 'shop/base.html' %}

{% block title %}Home - Simple Shop{% endblock %}

{% block content %}
<h1>Welcome to Simple Shop</h1>

<h2>Featured Products</h2>
<div class="product-grid">
    {% for product in featured_products %}
    <div class="product-card">
        {% if product.image %}
        <img src="{{ product.image.url }}" alt="{{ product.name }}"
            style="width: 100%; height: 200px; object-fit: cover; border-radius: 4px; margin-bottom: 15px;">
        {% else %}
        <div
            style="width: 100%; height: 200px; background-color: #f0f0f0; border-radius: 4px; margin-bottom: 15px; display: flex; align-items: center; justify-content: center; color: #888;">
            No Image
        </div>
        {% endif %}
        <h3>{{ product.name }}</h3>
        <p>{{ product.description|truncatewords:20 }}</p>
        <p><strong>â‚¹{{ product.price }}</strong></p>
        <div style="display: flex; gap: 10px; margin-top: auto; padding-top: 15px; align-items: center;">
            {% if product.in_stock %}
            <span style="color: green; font-weight: bold; font-size: 0.9rem;">In Stock</span>
            {% else %}
            <span style="color: red; font-weight: bold; font-size: 0.9rem;">Out of Stock</span>
            {% endif %}
            <form action="{% url 'product_detail' product.id %}" method="get" style="margin: 0; margin-left: auto;">
                <button type="submit" class="btn">View Details</button>
            </form>
        </div>
    </div>
    {% empty %}
    <p>No products available.</p>
    {% endfor %}
</div>
{% endblock %}